{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2023-04-04 13:24:45.722081",
 "css": "/* Remove Border */\r\n#tableHeader td, #tableHeader th {\r\n    border: none;\r\n}\r\n\r\n/* Remove Padding in Table */\r\n#tableHeader {\r\n   border-collapse: collapse;\r\n}\r\n#tableHeader td {\r\n   padding: 0px !important; \r\n   margin: 0px !important;\r\n}\r\n\r\n.tableTandaTangan{\r\n    margin:0px !important; \r\n}\r\n\r\n.tableContent {\r\n   border-collapse: collapse;\r\n   margin-top:0px !important;\r\n}\r\n.tableContent td {\r\n   padding: 0px !important; \r\n   margin: 0px !important;\r\n}\r\n\r\n@page {\r\n    margin-top: 5px !important;\r\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Update Bundle Stock",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<body>\r\n    <h1 class=\"text-center\" style=\"margin: 0px !important; padding: 0px !important;\">Transfer Salesman - {{doc.type}}</h1>\r\n    {% set kadars = [] %}\r\n    {% set subCategories = [] %}\r\n    {% set categories = [] %}\r\n    {% set categories_key = [] %}\r\n    {% set total_berat = namespace(berat=0) %}\r\n\r\n    <!-- Loop item per_kadar to get list of kadar -->\r\n    {% for item in doc.per_kadar %}\r\n        {% set temp = kadars.append((item['kadar'],0)) %}\r\n    {% endfor %}\r\n    {% set kadars = kadars|sort %}\r\n    {% set kadars = dict.from_keys(kadars) %}\r\n\r\n    <!-- loop item to get list of category -->    \r\n    {% for kadar in kadars.keys() %}\r\n        {% set category = [] %}\r\n        {% set temp = category.append(('kadar',kadar)) %}\r\n        {% set temp = category.append(('total',0)) %}\r\n        {% for item in doc.items %}\r\n            {% set temp = category.append((item.kategori,0)) %}\r\n            {% if item.kategori not in categories_key %}\r\n            {% set temp = categories_key.append(item.kategori) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n\r\n        <!-- check if category is exists -->\r\n        {% if dict.from_keys(category) not in categories %}\r\n            {% set temp = categories.append(dict.from_keys(category)) %}\r\n        {% endif %}\r\n    {% endfor %}\r\n    \r\n    <!-- loop item to get list of sub_category -->    \r\n    {% for item in doc.items %}\r\n        <!-- create dict of sub_category -->\r\n        {% set sub_category = [] %}\r\n        {% set temp = sub_category.append(('sub_category',item.sub_kategori)) %}\r\n        {% for kadar in kadars.keys() %}\r\n            {% set temp = sub_category.append((kadar,0)) %}\r\n        {% endfor %}\r\n        <!-- Append data to sub_category to subCategories -->\r\n        {% set _sub_category = dict.from_keys(sub_category) %}\r\n        {% if _sub_category not in subCategories %}\r\n            {% set temp = subCategories.append(dict.from_keys(sub_category)) %}\r\n        {% endif %}\r\n    {% endfor %}\r\n\r\n    <!-- Calculate berat per sub_kategori -->\r\n    {% for sub_category in subCategories %}\r\n        {% set index = loop.index0 %}\r\n        {% for item in doc.items %}\r\n            {% if item.sub_kategori == sub_category['sub_category'] %}\r\n                <!-- set jumlah per subkategori -->\r\n                {% set jumlah = subCategories[index][item.kadar] + item.qty_penambahan %}\r\n                {% set dummy =  subCategories[index].update({item.kadar:jumlah}) %}\r\n\r\n                <!-- set jumlah perkadar -->\r\n                {% set dummy = kadars.update({item.kadar:kadars[item.kadar]+item.qty_penambahan}) %}\r\n\r\n                <!-- set jumlah_berat -->\r\n                {% set total_berat.berat = total_berat.berat + item.qty_penambahan %}\r\n            {% endif %}\r\n        {% endfor %}\r\n    {% endfor %}\r\n\r\n    <!-- Calculate berat per kadar -->\r\n    {% for category in categories %}\r\n        {% set index = loop.index0 %}\r\n        {% for item in doc.items %}\r\n            {% if item.kadar == category['kadar'] %}\r\n                <!-- update jumlah per kategori -->\r\n                {% set dummy = categories[index].update({item.kategori : categories[index][item.kategori]+item.qty_penambahan}) %}\r\n\r\n                <!-- set total -->\r\n                {% set dummy = categories[index].update({'total' : categories[index]['total']+item.qty_penambahan}) %}\r\n            {% endif %}\r\n        {% endfor %}\r\n    {% endfor %}\r\n\r\n    <!-- Table Header -->\r\n    <table style=\"width: 100%;\" class=\"table\" id=\"tableHeader\">\r\n        <tbody>\r\n          <tr>\r\n            <td>ID</td>\r\n            <td>:</td>\r\n            <td>{{doc.name}}</td>\r\n            <td>Tgl Transaksi</td>\r\n            <td>:</td>\r\n            <td>{{doc.date}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Tujuan</td>\r\n            <td>:</td>\r\n            <td>{{doc.type}}</td>\r\n            <td>Dokumen No</td>\r\n            <td>:</td>\r\n            <td>{{doc.bundle}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Salesman</td>\r\n            <td>:</td>\r\n            <td>{{doc.sales}}</td>\r\n            <td>Pendamping</td>\r\n            <td>:</td>\r\n            {% set pendamping = frappe.db.get_value(\"Sales Stock Bundle\", doc.bundle, \"pendamping\")%}\r\n            <td>{{ pendamping }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Catatan</td>\r\n            <td>:</td>\r\n            <td colspan=\"4\">{% if doc.keterangan != None %}{{doc.keterangan}}{% endif %}</td>\r\n          </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <!-- Table item per sub kategori -->\r\n    <table class=\"table table-striped tableContent\">\r\n        <thead>\r\n            <tr>\r\n                <th>Sub Kategori</th>\r\n                {% for kadar in kadars.keys() %}\r\n                <th>{{kadar}}</th>\r\n                {% endfor %}\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for item in subCategories %}\r\n            <tr>\r\n                <td>{{item['sub_category']}}</td>\r\n                {% for kadar in kadars.keys() %}\r\n                <td>{{item[kadar]}}</td>\r\n                {% endfor %}\r\n            </tr>\r\n            {% endfor %}\r\n            <tr>\r\n                <td>Total : {{total_berat.berat}}</td>\r\n                {% for kadar in kadars.keys() %}\r\n                <td>{{kadars[kadar]}}</td>\r\n                {% endfor %}\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n\r\n    <!-- table item per kadar -->\r\n    <table class=\"table table-striped tableContent\">\r\n        <thead>\r\n            <tr>\r\n                <th>Kadar</th>\r\n                {% for category in categories_key %}\r\n                <th>{{category}}</th>\r\n                {% endfor %}\r\n                <th>Total</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {% for category in categories %}\r\n            <tr>\r\n                <td>{{category['kadar']}}</td>\r\n                {% for _category in categories_key %}\r\n                <td>{{category[_category]}}</td>\r\n                {% endfor %}\r\n                <td>{{category['total']}}</td>\r\n            </tr>\r\n            {% endfor %}\r\n        </tbody>\r\n    </table>\r\n\r\n    <!-- table ttd -->\r\n    <table class=\"table table-bordered tableTandaTangan\">\r\n        <tr>\r\n            <td class=\"text-center\">Yang Menyerahkan Barang</td>\r\n            <td class=\"text-center\">Admin</td>\r\n            <td class=\"text-center\" colspan=\"2\">Yang Menerima Barang</td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"text-center\" width=\"25%\"><br><br><br><br>(............................)<br>Stockist</td>\r\n            <td class=\"text-center\" width=\"25%\"><br><br><br><br>(............................)<br>Admin Sales</td>\r\n            <td class=\"text-center\" width=\"25%\"><br><br><br><br>(............................)<br>Sales</td>\r\n            <td class=\"text-center\" width=\"25%\"><br><br><br><br>(............................)<br>Pendamping</td>\r\n        </tr>\r\n    </table>\r\n\r\n</body>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2023-05-05 16:15:01.644724",
 "modified_by": "arikba@lms.com",
 "module": "Stockist",
 "name": "Transfer Salesman",
 "owner": "arikba@lms.com",
 "parent": "Update Bundle Stock",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}