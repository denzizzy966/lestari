{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-01-27 13:14:30.239895",
 "css": "* {\n  font-size: 8px;  \n}\n.table{\n    margin-top:-20px !important;\n}\n.no-border{\n    border-style:none !important;\n}\n.col{\n    padding-bottom:20px!important;\n}\n.gambar_produk{\n    height:175px;\n    width:150px;\n    padding:2.5px;\n    border:2px solid black;\n}\n.gambar_produk img{\n    width:80px;\n    height:100px;\n}\n.produk_id, .no_spk{\n    font-weight:bold;\n    padding: 5px;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Work Order Lilin",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>SPK Inject Lilin</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"workflow_state\", \"print_hide\": 0, \"label\": \"Workflow State\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Main Information\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"created_by\", \"print_hide\": 0, \"label\": \"Created By\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"created_date\", \"print_hide\": 0, \"label\": \"Created Date\"}, {\"fieldname\": \"created_tme\", \"print_hide\": 0, \"label\": \"Created Tme\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Data Pohon\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"pohon_id\", \"print_hide\": 0, \"label\": \"Pohon ID\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"warehouse_wip\", \"print_hide\": 0, \"label\": \"Warehouse WIP\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Tabel Tools\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"tools\", \"print_hide\": 0, \"label\": \"Tools\", \"visible_columns\": [{\"fieldname\": \"mul_id\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"resep_mul_karet\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rubber_mould\", \"print_width\": \"\", \"print_hide\": 0}]}]",
 "html": "<div class=\"container page-break\">\r\n    <div class=\"row\">\r\n      <div class=\"col\"><h3>SPK Inject Lilin</h3></div>\r\n    </div>\r\n    <div class=\"row\">\r\n    <!-- Detail SPK Lilin -->\r\n    <table class=\"table\">\r\n        <tr>\r\n            <td>ID</td>\r\n            <td>:</td>\r\n            <td>{{doc.name}}</td>\r\n            <td>Tanggal</td>\r\n            <td>:</td>\r\n            <td>{{doc.created_date}}</td>\r\n            <td>Kadar</td>\r\n            <td>:</td>\r\n            <td><div style=\"background-color:{{doc.color_22}};height:20px !important;display:inline\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div>&nbsp;{{doc.kadar}}</td>\r\n            <td>No Kotak</td>\r\n            <td>:</td>\r\n            <td>{{doc.no_kotak}}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>Kelompok</td>\r\n            <td>:</td>\r\n            <td>{{doc.no_line}}</td>\r\n            <td>Operator</td>\r\n            <td>:</td>\r\n            <td>{{frappe.get_doc(\"Employee\",doc.operator).employee_name}}</td>\r\n            <td>Nomor Base Karet</td>\r\n            <td>:</td>\r\n            <td>{{doc.nomor_base_karet}}</td>\r\n        </tr>\r\n    </table>\r\n    <table class=\"table\">\r\n        <tr>\r\n            <th>No.</th>\r\n            <th>No SPK</th>\r\n            <th>Produk</th>\r\n            <th>Inject</th>\r\n            <th>Qty Psn</th>\r\n            <th>Logo</th>\r\n            <th>SC</th>\r\n            <th>Tatakan</th>\r\n            <th colspan=\"2\">Rekap Lilin</th>\r\n            <th>Keterangan</th>\r\n            <th>Baik</th>\r\n            <th>Rusak</th>\r\n        </tr>\r\n        {% set qty_psn = namespace(value=0) %}\r\n        {% set qty_inject = namespace(value=0) %}\r\n        {% for row in doc.tabel_pohon|sort(attribute=\"produk_id\") %}\r\n        <tr>\r\n            <td>{{ loop.index }}</td>\r\n            <td>{{ row.no_spk }}</td>\r\n            <td>{{ row.produk_id }}</td>\r\n            <td>{{ row.inject}}</td>\r\n            <td>{{ row.qty }}</td>\r\n            <td>{{ row.logo }}</td>\r\n            <td>{{ row.stone_cast}}</td>\r\n            <td>{{ row.tatakan }}</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n        </tr>\r\n        {% set qty_psn.value = qty_psn.value + row.qty %}\r\n        {% set qty_inject.value = qty_inject.value + row.inject %}\r\n        {% if loop.last %}\r\n        <tr>\r\n            <td colspan=\"3\" rowspan=\"2\">{{doc.barcode}}</td>\r\n            <td><b>\r\n                {{qty_inject.value}}\r\n            </b></td>\r\n            <td>\r\n                <b>\r\n                {{qty_psn.value}}\r\n                </b>\r\n            </td>\r\n            <td colspan=\"3\">Diberikan Oleh</td>\r\n            <td colspan=\"3\">Diterima Oleh</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"2\" class=\"no-border\">&nbsp;</td>\r\n            <td colspan=\"3\" class=\"no-border\">( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</td>\r\n            <td colspan=\"3\" class=\"no-border\">( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"13\" class=\"no-border\">Dicetak : {{ frappe.utils.formatdate(frappe.utils.today(), 'dd/MM/YYYY') }} {{ frappe.utils.now_datetime().strftime('%H:%M') }} {{ frappe.session.full_name }}</td>\r\n        </tr>\r\n        {% endif %}\r\n        {% endfor %}\r\n    </table>\r\n    <table>\r\n        <tr>\r\n        {% for row in doc.tabel_pohon|sort(attribute=\"produk_id\") %}\r\n            <td><div class=\"gambar_produk text-center column-break\">\r\n                <div class=\"produk_id\">{{ row.produk_id }}</div><br>\r\n                {% if row.image != None%}\r\n                <img src=\"{{ row.image }}\">\r\n                {% else %}\r\n                <img src=\"/files/not-found.png\">\r\n                {% endif %}\r\n                <div class=\"no_spk\">{{ row.no_spk }}</div>\r\n            </div></td>\r\n        {% endfor %}\r\n        </tr>\r\n    </table>\r\n    </div>\r\n</div>\r\n    <!-- Kebutuhan Karet -->\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col\"><h3>SPK Inject Lilin - Kebutuhan Karet</h3></div>\r\n        </div>\r\n        <div class=\"row\">        \r\n        <table class=\"table\">\r\n            <tr>\r\n                <td>ID</td>\r\n                <td>:</td>\r\n                <td>{{doc.name}}</td>\r\n                <td>Tanggal</td>\r\n                <td>:</td>\r\n                <td>{{doc.created_date}}</td>\r\n                <td>Kadar</td>\r\n                <td>:</td>\r\n                <td><div style=\"background-color:{{doc.color_22}};height:20px !important;display:inline\">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div>&nbsp;{{doc.kadar}}</td>\r\n                <td>Rekap SPK Lilin</td>\r\n                <td>:</td>\r\n                <td>{{doc.no_kotak}}</td>\r\n                <td>&nbsp;</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Kelompok</td>\r\n                <td>:</td>\r\n                <td>{{doc.no_line}}</td>\r\n                <td>Operator</td>\r\n                <td>:</td>\r\n                <td>{{doc.operator}}</td>\r\n                <td>Nomor Base Karet</td>\r\n                <td>:</td>\r\n                <td>{{doc.nomor_base_karet}}</td>\r\n                <td colspan=\"4\">&nbsp;</td>\r\n            </tr>\r\n        </table>\r\n        <table class=\"table\">\r\n            <tr>\r\n                <th>No.</th>\r\n                <th>No SPK</th>\r\n                <th>Produk</th>\r\n                <th>Inject</th>\r\n                <th>Karet ID</th>\r\n                <th>Lemari</th>\r\n                <th>Laci</th>\r\n                <th>Baris</th>\r\n                <th>Kolom</th>\r\n                <th>&nbsp;</th>\r\n                <th>&nbsp;</th>\r\n                <th>&nbsp;</th>\r\n                <th>&nbsp;</th>\r\n            </tr>\r\n            {% for row in doc.tabel_pohon|sort(attribute=\"mul_karet\") %}\r\n            <tr>\r\n                <td>{{ loop.index }}</td>\r\n                <td>{{ row.no_spk }}</td>\r\n                <td>{{ row.produk_id }}</td>\r\n                <td>{{ row.inject}}</td>\r\n                <td>{{ row.mul_karet_id }}</td>\r\n                <td>{% set lemari = frappe.get_doc(\"Serial No\",{\"item_code\":row.mul_karet}).lemari %}{{ lemari }}</td>\r\n                <td>{% set laci = frappe.get_doc(\"Serial No\",{\"item_code\":row.mul_karet}).laci %}{{ laci }}</td>\r\n                <td>{% set baris = frappe.get_doc(\"Serial No\",{\"item_code\":row.mul_karet}).baris %}{{ baris }}</td>\r\n                <td>{% set kolom = frappe.get_doc(\"Serial No\",{\"item_code\":row.mul_karet}).kolom %}{{ kolom }}</td>\r\n                <td>&nbsp;</td>\r\n                <td>&nbsp;</td>\r\n                <td>&nbsp;</td>\r\n            </tr>\r\n            {% if loop.last %}\r\n            <tr>\r\n                <td colspan=\"3\" rowspan=\"2\">{{doc.barcode}}</td>\r\n                <td><b>\r\n                    {{qty_inject.value}}\r\n                </b></td>\r\n                <td colspan=\"3\">Diberikan Oleh</td>\r\n                <td colspan=\"3\">Diterima Oleh</td>\r\n                <td colspan=\"3\">&nbsp;</td>\r\n            </tr>\r\n            <tr>\r\n                <td class=\"no-border\">&nbsp;</td>\r\n                <td colspan=\"3\" class=\"no-border\">( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</td>\r\n                <td colspan=\"3\" class=\"no-border\">( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</td>\r\n            </tr>\r\n            <tr>\r\n                <td colspan=\"13\" class=\"no-border\">Dicetak : {{ frappe.utils.formatdate(frappe.utils.today(), 'dd/MM/YYYY') }} {{ frappe.utils.now_datetime().strftime('%H:%M') }} {{ frappe.session.full_name }}</td>\r\n            </tr>\r\n            {% endif %}\r\n            {% endfor %}\r\n        </table>\r\n    </div>\r\n    </div>\r\n    <!-- Kebutuhan Batu -->\r\n<div class=\"page-break\">\r\n    <div class=\"container\">\r\n        <div class=\"row\">\r\n            <div class=\"col\"><h3>SPK Inject Lilin - Kebutuhan Batu</h3></div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <table class=\"table\">\r\n                <tr>\r\n                    <th>No</th>\r\n                    <th>NO SPK</th>\r\n                    <th>Produk</th>\r\n                    <th>Jenis Batu</th>\r\n                    <th>Warna Batu</th>\r\n                    <th>Qty Per Item</th>\r\n                    <th>Qty Pesan</th>\r\n                    <th>Total Qty</th>\r\n                    <th>&nbsp;</th>\r\n                    <th>&nbsp;</th>\r\n                    <th>&nbsp;</th>\r\n                    <th>&nbsp;</th>\r\n                    <th>&nbsp;</th>\r\n                </tr>\r\n                {% for col in doc.tabel_batu %}\r\n                <tr>\r\n                    <td>{{ col.idx }}</td>\r\n            <td>{% set no_spk = frappe.get_doc(\"Work Order Lilin Item\",{\"parent\":col.parent,\"mul_karet\":col.mul_karet}).no_spk %}{{ no_spk }}</td>\r\n            <td>{% set produk = frappe.get_doc(\"Work Order Lilin Item\",{\"parent\":col.parent,\"mul_karet\":col.mul_karet}).produk_id %}{{ produk }}</td>\r\n            <td>{{ col.batu }}</td>\r\n            <td>{{ col.warna_batu }}</td>\r\n            <td>{{ col.qty }}</td>\r\n            <td>{% set qty_pesan = frappe.get_doc(\"Work Order Lilin Item\",{\"parent\":col.parent,\"mul_karet\":col.mul_karet}).qty %}{{ qty_pesan }}</td>\r\n            <td>{{ col.total_qty }}</td>\r\n        </tr>\r\n        {% if loop.last %}\r\n        <tr>\r\n            <td colspan=\"3\" rowspan=\"2\">{{doc.barcode}}</td>\r\n            <td colspan=\"3\">Diberikan Oleh</td>\r\n            <td colspan=\"3\">Diterima Oleh</td>\r\n            <td>&nbsp;</td>\r\n            <td>&nbsp;</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"3\" class=\"no-border\">( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</td>\r\n            <td colspan=\"3\" class=\"no-border\">( &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; )</td>\r\n        </tr>\r\n        <tr>\r\n            <td colspan=\"13\" class=\"no-border\">Dicetak : {{ frappe.utils.formatdate(frappe.utils.today(), 'dd/MM/YYYY') }} {{ frappe.utils.now_datetime().strftime('%H:%M') }} {{ frappe.session.full_name }}</td>\r\n        </tr>\r\n        {% endif %}\r\n        {% endfor %}\r\n    </table>\r\n</div>\r\n</div>\r\n<!-- Total Kebutuhan Batu -->\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col\"><h3>SPK Inject Lilin - Total Kebutuhan Batu</h3></div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <table class=\"table\">\r\n            <tr>\r\n                <th>No</th>\r\n                <th>Jenis Batu</th>\r\n                <th>Warna Batu</th>\r\n                <th>Total Qty</th>\r\n                <th colspan=\"9\">&nbsp;</th>\r\n        </tr>\r\n        {% set array_item = [] %} \r\n        {% set tot_batu_qty = namespace(value=0) %}\r\n        {% set info = {\"batu\":\"\",\"warna_batu\":\"\",\"total_qty\":\"\"} %}\r\n        {% for i in doc.tabel_batu %}\r\n        {% if i not in array_item %}\r\n        {% if array_item.append({\r\n            'batu':i.batu,\r\n            'warna_batu':i.warna_batu,\r\n            'total_qty':i.total_qty\r\n        })%}{% endif %}\r\n        {% endif %}\r\n        {% endfor %}\r\n        {% set ns = namespace() %}\r\n        {% set ns.idx = 0 %}\r\n        {% set ns.totbatu = 0 %}\r\n        {% for i in array_item | groupby(\"batu\") %}\r\n        {% for j in i.list | groupby(\"warna_batu\") %}\r\n        {% set ns.idx = ns.idx + 1 %}\r\n        {% set ns.totbatu = ns.totbatu + j.list|sum(attribute='total_qty')%}\r\n        <tr>\r\n            <td>{{ ns.idx }}</td>\r\n            <td>{{i.grouper}}</td>\r\n            <td>{{j.grouper}}</td>\r\n            <td>{{j.list|sum(attribute='total_qty')}}</td>\r\n            <td colspan=\"9\">&nbsp;</td>\r\n        </tr>\r\n        {% endfor %}\r\n        {% if loop.last %}\r\n        <tr>\r\n            <td colspan=\"3\">&nbsp;</td>\r\n            <td>{{ns.totbatu}}</td>\r\n            <td colspan=\"9\">&nbsp;</td>\r\n        </tr>\r\n        {% endif %}\r\n        {% endfor %}\r\n    </table>\r\n</div>\r\n</div></div>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-05-18 15:22:20.319788",
 "modified_by": "Administrator",
 "module": "Lestari",
 "name": "SPK Inject Lilin",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}